# 塔罗牌占卜小程序 - 页面规划文档

## 文档说明

本文档详细罗列了塔罗牌占卜小程序需要开发的所有页面,包括页面功能描述、UI 布局要点和开发优先级。每个页面都可以独立开发为任务清单项。

---

## 一、页面总览

### 1.1 页面分类统计

| 模块 | 页面数量 | 优先级 |
|------|---------|--------|
| 首页模块 | 1 | P0 |
| 占卜流程模块 | 5 | P0 |
| 牌库模块 | 2 | P1 |
| 历史记录模块 | 2 | P0 |
| 学习中心模块 | 3 | P2 |
| 个人中心模块 | 2 | P1 |
| **总计** | **15** | - |

### 1.2 开发优先级说明

- **P0（核心功能）**: MVP 必须实现,构成完整占卜流程
- **P1（重要功能）**: 提升用户体验的关键功能
- **P2（增强功能）**: 提升用户粘性的辅助功能

---

## 二、页面详细规划

### 2.1 首页模块

#### 页面 001: 首页 (Home / Index)

**路由路径**: `pages/index/index`

**功能描述**:
- 应用主入口,展示每日一抽、快速占卜入口和精选内容
- 提供快速访问各类占卜功能的入口
- 展示今日运势卡片(如已完成每日一抽)

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  [头像]  塔罗占卜      [设置]    │
├─────────────────────────────────┤
│                                 │
│   ┌─────────────────────────┐   │
│   │    每日一抽大卡片区域     │   │
│   │  [卡牌图片 or 占卜按钮]  │   │
│   │   "今日运势: 愚者"       │   │
│   └─────────────────────────┘   │
│                                 │
│   快速占卜                       │
│   ┌────┐ ┌────┐ ┌────┐         │
│   │爱情│ │事业│ │学业│         │
│   └────┘ └────┘ └────┘         │
│   ┌────┐ ┌────┐ ┌────┐         │
│   │财运│ │健康│ │通用│         │
│   └────┘ └────┘ └────┘         │
│                                 │
│   精选内容 (横向滚动)            │
│   ┌────┐ ┌────┐ ┌────┐         │
│   │塔罗│ │星座│ │牌阵│         │
│   │知识│ │运势│ │推荐│         │
│   └────┘ └────┘ └────┘         │
└─────────────────────────────────┘
│  首页 | 牌库 | 历史 | 学习 | 我的 │
└─────────────────────────────────┘
```

**核心功能**:
1. 每日一抽功能(每日限一次)
2. 6 个快速占卜分类入口
3. 精选内容横向滚动展示
4. 底部导航栏

**开发要点**:
- 检查每日一抽状态(是否已完成)
- 使用 Pinia 管理每日一抽状态
- 实现精选内容横向滚动组件
- 底部导航栏使用 TabBar 组件

**优先级**: **P0**

**预计工作量**: 2-3 天

---

### 2.2 占卜流程模块

#### 页面 002: 牌阵选择页 (Spread Selection)

**路由路径**: `pages/divination/spread-select`

**功能描述**:
- 展示所有可用的牌阵类型
- 用户可以根据占卜类别筛选牌阵
- 显示牌阵难度、卡牌数量、适用场景

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 选择牌阵                      │
├─────────────────────────────────┤
│  分类筛选                        │
│  [全部] [爱情] [事业] [通用]    │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │  时间三角 ⭐简单  3张     │  │
│  │  揭示过去现在未来的能量   │  │
│  │  [牌阵示意图]             │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  凯尔特十字 ⭐⭐⭐困难 10张│  │
│  │  深度分析问题的各个方面   │  │
│  │  [牌阵示意图]             │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  爱情牌阵 ⭐⭐中等  5张   │  │
│  │  专注于情感关系分析       │  │
│  │  [牌阵示意图]             │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

**核心功能**:
1. 牌阵列表展示(支持分类筛选)
2. 点击牌阵进入问题输入页
3. 显示牌阵详情(难度、卡牌数、描述)

**开发要点**:
- 从 data/spreads.uts 加载牌阵数据
- 使用 tag 组件实现分类筛选
- 传递选中的牌阵 ID 到下一页

**优先级**: **P0**

**预计工作量**: 1-2 天

---

#### 页面 003: 问题输入页 (Question Input)

**路由路径**: `pages/divination/question-input`

**功能描述**:
- 用户输入想要占卜的具体问题
- 显示已选择的牌阵信息
- 可选择是否跳过问题输入

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 输入你的问题                  │
├─────────────────────────────────┤
│  选择的牌阵: 时间三角 (3张)      │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │  请输入你想占卜的问题... │   │
│  │  (选填)                 │   │
│  │                         │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│  提示:                          │
│  • 问题越具体,解读越准确         │
│  • 避免"是/否"类问题            │
│  • 专注于"如何"而非"会不会"     │
│                                 │
│                                 │
│  ┌─────────────────────────┐   │
│  │    开始冥想 →             │   │
│  └─────────────────────────┘   │
│  [跳过,直接抽牌]                │
└─────────────────────────────────┘
```

**核心功能**:
1. 多行文本输入框
2. 问题输入提示
3. 跳过/继续按钮

**开发要点**:
- 使用 textarea 组件
- 问题文本存储到 Pinia store
- 字数限制(建议 200 字内)

**优先级**: **P0**

**预计工作量**: 0.5-1 天

---

#### 页面 004: 冥想引导页 (Meditation Guide)

**路由路径**: `pages/divination/meditation`

**功能描述**:
- 占卜前的冥想引导环节
- 播放舒缓的背景音乐
- 倒计时动画(可设置时长)

**UI 布局要点**:
```
┌─────────────────────────────────┐
│                                 │
│         [粒子动效背景]           │
│                                 │
│         静心冥想                 │
│                                 │
│      ┌─────────────┐            │
│      │             │            │
│      │   ⏱ 30s    │            │
│      │             │            │
│      └─────────────┘            │
│                                 │
│   请放松心情,专注于你的问题...   │
│                                 │
│         [♪ 音乐播放中]          │
│                                 │
│                                 │
│      [跳过冥想]                 │
└─────────────────────────────────┘
```

**核心功能**:
1. 倒计时功能(默认 30 秒)
2. 星空/粒子动效背景
3. 背景音乐播放
4. 跳过按钮

**开发要点**:
- 使用 Canvas 实现粒子动效
- 使用 uni.createInnerAudioContext 播放音乐
- 倒计时结束自动跳转到抽牌页

**优先级**: **P1** (MVP 可简化为 loading 页)

**预计工作量**: 1-2 天

---

#### 页面 005: 抽牌页面 (Draw Cards)

**路由路径**: `pages/divination/draw-cards`

**功能描述**:
- 展示牌阵布局
- 用户依次点击卡牌背面进行翻牌
- 翻牌动画效果
- 显示正位/逆位

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 抽牌中...  (1/3)              │
├─────────────────────────────────┤
│                                 │
│      [星空粒子背景]              │
│                                 │
│   ┌────┐   ┌────┐   ┌────┐     │
│   │ 牌 │   │ 牌 │   │ 牌 │     │
│   │ 背 │   │ 背 │   │ 背 │     │
│   │ 面 │   │ 面 │   │ 面 │     │
│   └────┘   └────┘   └────┘     │
│   过去      现在      未来       │
│                                 │
│   点击卡牌进行翻转               │
│                                 │
│   ━━━━━━━━━━━                  │
│   进度: 33%                     │
│                                 │
└─────────────────────────────────┘
```

**核心功能**:
1. 根据牌阵动态布局卡牌位置
2. 点击卡牌触发 3D 翻转动画
3. 翻牌音效和震动反馈
4. 随机正逆位判断
5. 抽牌进度显示
6. 全部翻完后跳转结果页

**开发要点**:
- 使用 SpreadLayout 组件动态布局
- 使用 CardFlip 组件实现翻牌动画
- 实现洗牌算法(Fisher-Yates)
- 使用 uni.vibrateShort 实现震动
- Pinia store 保存抽牌结果

**优先级**: **P0** (核心交互)

**预计工作量**: 3-4 天

---

#### 页面 006: 结果展示页 (Result Display)

**路由路径**: `pages/divination/result`

**功能描述**:
- 展示所有抽到的牌
- 显示每张牌的详细解读
- 综合分析和建议
- 保存、分享、重新占卜功能

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 占卜结果      [分享] [保存]   │
├─────────────────────────────────┤
│  问题: 我的事业发展如何?         │
├─────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐           │
│  │愚者│ │女祭│ │皇帝│           │
│  │正位│ │逆位│ │正位│           │
│  └────┘ └────┘ └────┘           │
│  (可左右滑动)                    │
├─────────────────────────────────┤
│  当前牌位: 现在                  │
│  ┌─────────────────────────┐   │
│  │   [女祭司 - 逆位]        │   │
│  │   [卡牌大图]             │   │
│  └─────────────────────────┘   │
│                                 │
│  牌义解读:                      │
│  女祭司逆位代表直觉受阻,可能在  │
│  决策时过于依赖理性而忽视内心   │
│  的声音。建议你...              │
│                                 │
│  关键词: 直觉阻塞、犹豫不决      │
├─────────────────────────────────┤
│  综合分析:                      │
│  从牌面来看,你的事业正处于...   │
│  (展开查看完整分析)              │
├─────────────────────────────────┤
│  [保存记录]  [重新占卜]         │
└─────────────────────────────────┘
```

**核心功能**:
1. 顶部横向滚动展示所有牌
2. 卡牌大图展示(支持左右滑动切换)
3. 每张牌的详细解读
4. 综合分析文本
5. 保存到历史记录
6. 分享功能
7. 重新占卜按钮

**开发要点**:
- 使用 swiper 组件实现左右滑动
- 从 data/interpretations.uts 加载解读文本
- 保存记录到 uni.storage
- 分享使用 uni.share API
- 显示正逆位标识

**优先级**: **P0**

**预计工作量**: 2-3 天

---

### 2.3 牌库模块

#### 页面 007: 牌库列表页 (Card Library)

**路由路径**: `pages/cards/library`

**功能描述**:
- 展示全部 78 张塔罗牌
- 分类浏览(大阿卡纳/小阿卡纳/按牌组)
- 搜索功能
- 收藏功能

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  塔罗牌库            [搜索图标]  │
├─────────────────────────────────┤
│  [全部] [大阿卡纳] [小阿卡纳]   │
│  [权杖] [圣杯] [宝剑] [星币]    │
├─────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐          │
│  │愚者│ │魔术│ │女祭│          │
│  │The │ │师  │ │司  │          │
│  │Fool│ │    │ │    │          │
│  └────┘ └────┘ └────┘          │
│  ┌────┐ ┌────┐ ┌────┐          │
│  │女皇│ │皇帝│ │教皇│          │
│  │    │ │    │ │    │  ♡收藏  │
│  └────┘ └────┘ └────┘          │
│  ┌────┐ ┌────┐ ┌────┐          │
│  │恋人│ │战车│ │力量│          │
│  │    │ │    │ │    │          │
│  └────┘ └────┘ └────┘          │
│  ...                            │
└─────────────────────────────────┘
│  首页 | 牌库 | 历史 | 学习 | 我的 │
└─────────────────────────────────┘
```

**核心功能**:
1. 网格布局展示卡牌
2. 分类筛选(tab 切换)
3. 搜索功能(按卡牌名称)
4. 点击卡牌进入详情页
5. 收藏标识显示

**开发要点**:
- 从 data/major-arcana.uts 和 data/minor-arcana.uts 加载数据
- 使用 grid-view 组件实现网格布局
- 搜索框使用防抖优化
- 收藏状态存储到 Pinia store

**优先级**: **P1**

**预计工作量**: 2 天

---

#### 页面 008: 卡牌详情页 (Card Detail)

**路由路径**: `pages/cards/detail`

**功能描述**:
- 显示卡牌高清大图
- 详细的牌义解读(正位/逆位)
- 象征意义、关键词、背景故事
- 收藏功能

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 愚者 (The Fool)    [♡收藏]   │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │    [卡牌高清大图]        │   │
│  │                         │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│  编号: 0 | 大阿卡纳              │
│  元素: 风 | 星座: 天王星         │
├─────────────────────────────────┤
│  关键词                          │
│  #新开始 #冒险 #纯真 #自由      │
├─────────────────────────────────┤
│  [正位含义] [逆位含义]           │
│                                 │
│  正位含义:                      │
│  代表新的开始、冒险精神和无限   │
│  可能。鼓励你跟随内心,勇敢迈出  │
│  第一步。愚者象征着...          │
│                                 │
│  象征意义:                      │
│  • 白玫瑰: 纯洁与新开始          │
│  • 小狗: 忠诚的伙伴             │
│  • 悬崖: 未知的冒险             │
│                                 │
│  背景故事:                      │
│  愚者是塔罗牌旅程的开始...      │
│                                 │
└─────────────────────────────────┘
```

**核心功能**:
1. 卡牌大图展示
2. 正位/逆位含义切换
3. 详细的牌义解读
4. 象征意义说明
5. 收藏/取消收藏

**开发要点**:
- 使用 image 组件展示高清图片
- tab 切换正逆位含义
- 收藏状态同步到 Pinia store
- 支持图片预览(uni.previewImage)

**优先级**: **P1**

**预计工作量**: 1-2 天

---

### 2.4 历史记录模块

#### 页面 009: 历史记录列表 (History List)

**路由路径**: `pages/history/list`

**功能描述**:
- 展示所有历史占卜记录
- 按时间倒序排列
- 支持筛选(按主题、牌阵)
- 显示占卜日期、主题、牌阵

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  占卜记录            [筛选图标]  │
├─────────────────────────────────┤
│  [全部] [爱情] [事业] [学业]    │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │ 2025-12-05  14:30  ⭐重要 │  │
│  │ 事业 | 凯尔特十字            │  │
│  │ 问题: 我的事业发展如何?     │  │
│  │ ┌──┐┌──┐┌──┐            │  │
│  │ │愚││女││皇│ ...        │  │
│  │ └──┘└──┘└──┘            │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │ 2025-12-04  09:15          │  │
│  │ 爱情 | 时间三角              │  │
│  │ 每日一抽                    │  │
│  │ ┌──┐┌──┐┌──┐            │  │
│  │ │恋││战││力│            │  │
│  │ └──┘└──┘└──┘            │  │
│  └───────────────────────────┘  │
│  ...                           │
└─────────────────────────────────┘
│  首页 | 牌库 | 历史 | 学习 | 我的 │
└─────────────────────────────────┘
```

**核心功能**:
1. 记录列表展示(时间倒序)
2. 分类筛选
3. 显示缩略牌面
4. 重要标记显示
5. 点击进入详情页
6. 下拉刷新/上拉加载

**开发要点**:
- 从 uni.storage 读取历史记录
- 使用 list-view 组件优化长列表性能
- 实现分类筛选逻辑
- 支持分页加载(本地分页)

**优先级**: **P0**

**预计工作量**: 1-2 天

---

#### 页面 010: 历史记录详情 (History Detail)

**路由路径**: `pages/history/detail`

**功能描述**:
- 查看完整的历史占卜记录
- 添加/编辑笔记
- 标记为重要
- 删除记录
- 分享记录

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 占卜详情  [分享] [删除] [⭐] │
├─────────────────────────────────┤
│  2025-12-05  14:30               │
│  事业占卜 | 凯尔特十字            │
│  问题: 我的事业发展如何?         │
├─────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐          │
│  │愚者│ │女祭│ │皇帝│          │
│  │正位│ │逆位│ │正位│  ...    │
│  └────┘ └────┘ └────┘          │
├─────────────────────────────────┤
│  解读内容:                       │
│  (显示当时保存的完整解读)        │
│                                 │
│  综合分析:                      │
│  ...                            │
├─────────────────────────────────┤
│  我的笔记:                       │
│  ┌─────────────────────────┐   │
│  │ 今天的确遇到了新的机会... │   │
│  │ [点击编辑]               │   │
│  └─────────────────────────┘   │
│                                 │
│  标签: #重要 #事业转折点         │
└─────────────────────────────────┘
```

**核心功能**:
1. 完整显示占卜记录
2. 笔记编辑功能
3. 重要标记切换
4. 删除记录(带确认)
5. 分享记录

**开发要点**:
- 根据记录 ID 从 storage 读取数据
- 笔记编辑保存到 storage
- 删除操作需要确认弹窗
- 分享功能生成图片或文本

**优先级**: **P1**

**预计工作量**: 1-2 天

---

### 2.5 学习中心模块

#### 页面 011: 学习中心首页 (Learn Index)

**路由路径**: `pages/learn/index`

**功能描述**:
- 塔罗入门教程
- 每日一牌学习
- 牌义记忆测试
- 牌阵教学

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  学习中心                        │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │  每日一牌                  │  │
│  │  [今日学习: 魔术师]        │  │
│  │  已学习 12/78              │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  塔罗入门                        │
│  ┌────────┐ ┌────────┐         │
│  │ 塔罗历史│ │如何选牌│         │
│  │  6 课   │ │  4 课  │         │
│  └────────┘ └────────┘         │
│  ┌────────┐ ┌────────┐         │
│  │如何解读│ │常见误区│         │
│  │  8 课  │ │  5 课  │         │
│  └────────┘ └────────┘         │
├─────────────────────────────────┤
│  牌阵教学                        │
│  ┌───────────────────────────┐  │
│  │ 时间三角 - 入门必学        │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │ 凯尔特十字 - 深度解读      │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │  📝 测试你的塔罗知识       │  │
│  │  开始测试 →                │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
│  首页 | 牌库 | 历史 | 学习 | 我的 │
└─────────────────────────────────┘
```

**核心功能**:
1. 每日一牌学习模块
2. 课程分类列表
3. 学习进度显示
4. 测试入口

**开发要点**:
- 每日随机选择一张牌学习
- 课程数据从静态文件加载
- 学习进度存储到 storage
- 点击进入课程详情页

**优先级**: **P2**

**预计工作量**: 1-2 天

---

#### 页面 012: 课程详情页 (Lesson Detail)

**路由路径**: `pages/learn/lesson`

**功能描述**:
- 展示课程内容
- 图文混排
- 支持收藏
- 上一课/下一课导航

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 塔罗历史          [♡收藏]     │
├─────────────────────────────────┤
│  第 1 课 / 共 6 课               │
│  ━━━━━━━━━━━━━━━━━━━           │
│  进度: 16%                      │
├─────────────────────────────────┤
│                                 │
│  # 塔罗牌的起源                  │
│                                 │
│  [插图]                          │
│                                 │
│  塔罗牌起源于 15 世纪的欧洲...   │
│                                 │
│  ## 早期历史                    │
│  最早的塔罗牌出现在意大利...     │
│                                 │
│  [插图]                          │
│                                 │
│  ...                            │
│                                 │
├─────────────────────────────────┤
│  [上一课]         [下一课 →]    │
└─────────────────────────────────┘
```

**核心功能**:
1. 课程内容展示(富文本/Markdown)
2. 图文混排
3. 课程进度显示
4. 上一课/下一课导航
5. 收藏功能

**开发要点**:
- 使用 rich-text 组件展示内容
- 课程内容从 JSON/Markdown 文件加载
- 阅读进度保存到 storage
- 自动标记为已学习

**优先级**: **P2**

**预计工作量**: 1-2 天

---

#### 页面 013: 互动测试页 (Knowledge Test)

**路由路径**: `pages/learn/test`

**功能描述**:
- 随机测试塔罗牌知识
- 看图识牌
- 牌义选择题
- 测试结果统计

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 塔罗知识测试                  │
├─────────────────────────────────┤
│  题目 3 / 10                     │
│  ━━━━━━━━━━━━━━━━━━━           │
│  进度: 30%                      │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │    [显示卡牌图片]        │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│  这张牌是?                       │
│                                 │
│  ┌─────────────────────────┐   │
│  │  A. 愚者                 │   │
│  └─────────────────────────┘   │
│  ┌─────────────────────────┐   │
│  │  B. 魔术师               │   │
│  └─────────────────────────┘   │
│  ┌─────────────────────────┐   │
│  │  C. 女祭司               │   │
│  └─────────────────────────┘   │
│  ┌─────────────────────────┐   │
│  │  D. 女皇                 │   │
│  └─────────────────────────┘   │
│                                 │
└─────────────────────────────────┘
```

**核心功能**:
1. 随机题目生成
2. 选择题交互
3. 即时反馈(正确/错误)
4. 测试结果统计
5. 错题回顾

**开发要点**:
- 从卡牌数据随机生成题目
- 记录答题结果
- 测试完成后显示统计页
- 错题本功能(可选)

**优先级**: **P2**

**预计工作量**: 2-3 天

---

### 2.6 个人中心模块

#### 页面 014: 个人中心首页 (Profile Index)

**路由路径**: `pages/profile/index`

**功能描述**:
- 用户信息展示
- 数据统计
- 我的收藏
- 设置入口

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  个人中心                        │
├─────────────────────────────────┤
│  ┌─────┐                        │
│  │头像 │  昵称: 塔罗探索者       │
│  └─────┘  星座: 双子座 ♊        │
│            加入: 30 天前         │
├─────────────────────────────────┤
│  我的数据                        │
│  ┌────┐ ┌────┐ ┌────┐          │
│  │ 42 │ │ 15 │ │ 8  │          │
│  │占卜│ │收藏│ │连续│          │
│  │次数│ │卡牌│ │天数│          │
│  └────┘ └────┘ └────┘          │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │  ♡ 我的收藏 (15)    →    │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  📊 我的统计        →    │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  ⚙️ 设置            →    │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  ℹ️ 关于塔罗        →    │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
│  首页 | 牌库 | 历史 | 学习 | 我的 │
└─────────────────────────────────┘
```

**核心功能**:
1. 用户头像和基本信息
2. 占卜统计数据
3. 功能入口列表
4. 我的收藏入口

**开发要点**:
- 从 Pinia store 读取用户数据
- 统计数据从 storage 计算
- 头像支持更换(选择图片或拍照)
- 星座信息根据生日自动计算

**优先级**: **P1**

**预计工作量**: 1-2 天

---

#### 页面 015: 设置页面 (Settings)

**路由路径**: `pages/profile/settings`

**功能描述**:
- 应用设置
- 占卜偏好设置
- 隐私设置
- 关于应用

**UI 布局要点**:
```
┌─────────────────────────────────┐
│  ← 设置                          │
├─────────────────────────────────┤
│  个人信息                        │
│  ┌───────────────────────────┐  │
│  │  修改昵称          →      │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  修改头像          →      │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  生日设置          →      │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  占卜设置                        │
│  ┌───────────────────────────┐  │
│  │  音效开关          [ON]   │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  震动反馈          [ON]   │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  每日提醒          [OFF]  │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  外观                            │
│  ┌───────────────────────────┐  │
│  │  深色模式          [ON]   │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  其他                            │
│  ┌───────────────────────────┐  │
│  │  清除缓存          →      │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  隐私政策          →      │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │  关于我们          →      │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

**核心功能**:
1. 个人信息编辑
2. 音效/震动开关
3. 每日提醒设置
4. 主题切换
5. 清除缓存
6. 关于应用

**开发要点**:
- 使用 switch 组件实现开关
- 设置项保存到 Pinia store
- 清除缓存功能(uni.clearStorage)
- 主题切换实时生效

**优先级**: **P1**

**预计工作量**: 1-2 天

---

## 三、页面路由配置 (pages.json)

### 3.1 完整路由配置代码

```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "塔罗占卜",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white",
        "enablePullDownRefresh": false
      }
    },
    {
      "path": "pages/divination/spread-select",
      "style": {
        "navigationBarTitleText": "选择牌阵",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/divination/question-input",
      "style": {
        "navigationBarTitleText": "输入问题",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/divination/meditation",
      "style": {
        "navigationBarTitleText": "冥想引导",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white",
        "navigationStyle": "custom"
      }
    },
    {
      "path": "pages/divination/draw-cards",
      "style": {
        "navigationBarTitleText": "抽牌",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white",
        "navigationStyle": "custom"
      }
    },
    {
      "path": "pages/divination/result",
      "style": {
        "navigationBarTitleText": "占卜结果",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/cards/library",
      "style": {
        "navigationBarTitleText": "塔罗牌库",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/cards/detail",
      "style": {
        "navigationBarTitleText": "卡牌详情",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/history/list",
      "style": {
        "navigationBarTitleText": "占卜记录",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white",
        "enablePullDownRefresh": true
      }
    },
    {
      "path": "pages/history/detail",
      "style": {
        "navigationBarTitleText": "记录详情",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/learn/index",
      "style": {
        "navigationBarTitleText": "学习中心",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/learn/lesson",
      "style": {
        "navigationBarTitleText": "课程详情",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/learn/test",
      "style": {
        "navigationBarTitleText": "知识测试",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/profile/index",
      "style": {
        "navigationBarTitleText": "个人中心",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    },
    {
      "path": "pages/profile/settings",
      "style": {
        "navigationBarTitleText": "设置",
        "navigationBarBackgroundColor": "#1A1A2E",
        "navigationBarTextStyle": "white"
      }
    }
  ],
  "globalStyle": {
    "navigationBarTextStyle": "white",
    "navigationBarTitleText": "塔罗占卜",
    "navigationBarBackgroundColor": "#1A1A2E",
    "backgroundColor": "#1A1A2E"
  },
  "tabBar": {
    "color": "#B8B8D1",
    "selectedColor": "#FFB400",
    "backgroundColor": "#16213E",
    "borderStyle": "black",
    "list": [
      {
        "pagePath": "pages/index/index",
        "iconPath": "static/tabbar/home.png",
        "selectedIconPath": "static/tabbar/home-active.png",
        "text": "首页"
      },
      {
        "pagePath": "pages/cards/library",
        "iconPath": "static/tabbar/cards.png",
        "selectedIconPath": "static/tabbar/cards-active.png",
        "text": "牌库"
      },
      {
        "pagePath": "pages/history/list",
        "iconPath": "static/tabbar/history.png",
        "selectedIconPath": "static/tabbar/history-active.png",
        "text": "历史"
      },
      {
        "pagePath": "pages/learn/index",
        "iconPath": "static/tabbar/learn.png",
        "selectedIconPath": "static/tabbar/learn-active.png",
        "text": "学习"
      },
      {
        "pagePath": "pages/profile/index",
        "iconPath": "static/tabbar/profile.png",
        "selectedIconPath": "static/tabbar/profile-active.png",
        "text": "我的"
      }
    ]
  }
}
```

---

## 四、开发任务清单

### 4.1 MVP 阶段任务 (P0 优先级)

#### 阶段 1: 基础架构 (1-2 天)
- [ ] 初始化项目结构
- [ ] 配置 pages.json 路由
- [ ] 创建全局样式变量 (uni.scss)
- [ ] 搭建 Pinia stores
- [ ] 准备塔罗牌数据文件

#### 阶段 2: 占卜核心流程 (5-7 天)
- [ ] **页面 002**: 牌阵选择页
- [ ] **页面 003**: 问题输入页
- [ ] **页面 005**: 抽牌页面 (核心)
- [ ] **页面 006**: 结果展示页
- [ ] 实现洗牌算法
- [ ] 实现翻牌动画

#### 阶段 3: 首页和历史 (3-4 天)
- [ ] **页面 001**: 首页
- [ ] **页面 009**: 历史记录列表
- [ ] 实现每日一抽功能
- [ ] 实现本地存储逻辑

#### 阶段 4: 公共组件 (2-3 天)
- [ ] TarotCard 卡牌组件
- [ ] CardFlip 翻牌组件
- [ ] SpreadLayout 牌阵布局组件
- [ ] InterpretCard 解读卡片组件

**MVP 总计工作量**: 约 **11-16 天**

---

### 4.2 完善体验阶段任务 (P1 优先级)

#### 阶段 5: 牌库模块 (3-4 天)
- [ ] **页面 007**: 牌库列表页
- [ ] **页面 008**: 卡牌详情页
- [ ] 实现搜索和筛选
- [ ] 实现收藏功能

#### 阶段 6: 个人中心 (3-4 天)
- [ ] **页面 014**: 个人中心首页
- [ ] **页面 015**: 设置页面
- [ ] **页面 010**: 历史记录详情
- [ ] 实现数据统计功能
- [ ] 实现主题切换

#### 阶段 7: UI/UX 优化 (2-3 天)
- [ ] **页面 004**: 冥想引导页
- [ ] 添加背景音乐和音效
- [ ] 优化所有动画效果
- [ ] 完善错误处理和加载状态

**完善阶段总计**: 约 **8-11 天**

---

### 4.3 增强功能阶段任务 (P2 优先级)

#### 阶段 8: 学习中心 (5-6 天)
- [ ] **页面 011**: 学习中心首页
- [ ] **页面 012**: 课程详情页
- [ ] **页面 013**: 互动测试页
- [ ] 准备课程内容数据
- [ ] 实现学习进度跟踪

#### 阶段 9: 性能优化 (2-3 天)
- [ ] 图片懒加载优化
- [ ] 代码分包配置
- [ ] 减少包体积
- [ ] 性能测试和优化

**增强阶段总计**: 约 **7-9 天**

---

## 五、页面间导航关系图

```
首页 (001)
├─→ 牌阵选择 (002)
│   └─→ 问题输入 (003)
│       └─→ 冥想引导 (004)
│           └─→ 抽牌页面 (005)
│               └─→ 结果展示 (006)
│                   └─→ 历史记录详情 (010)
│
├─→ 牌库列表 (007)
│   └─→ 卡牌详情 (008)
│
├─→ 历史记录列表 (009)
│   └─→ 历史记录详情 (010)
│
├─→ 学习中心首页 (011)
│   ├─→ 课程详情 (012)
│   └─→ 知识测试 (013)
│
└─→ 个人中心首页 (014)
    └─→ 设置页面 (015)
```

---

## 六、页面开发检查清单

每个页面开发完成后需检查以下项目:

### 6.1 功能检查
- [ ] 页面路由配置正确
- [ ] 数据加载正常
- [ ] 用户交互流畅
- [ ] 错误处理完善
- [ ] 数据持久化正常

### 6.2 UI 检查
- [ ] 符合设计规范
- [ ] 响应式布局适配
- [ ] 深色/浅色主题适配
- [ ] 加载状态显示
- [ ] 空状态提示

### 6.3 性能检查
- [ ] 首屏加载速度
- [ ] 图片懒加载
- [ ] 列表滚动性能
- [ ] 动画流畅度
- [ ] 内存占用合理

### 6.4 兼容性检查
- [ ] 微信小程序测试
- [ ] Android App 测试
- [ ] iOS App 测试 (如适用)
- [ ] 支付宝小程序测试 (如适用)

---

## 七、总结

### 7.1 页面统计
- **总页面数**: 15 个
- **P0 核心页面**: 6 个 (占卜流程 + 首页 + 历史列表)
- **P1 重要页面**: 6 个 (牌库 + 个人中心 + 历史详情)
- **P2 增强页面**: 3 个 (学习中心)

### 7.2 预计总工作量
- **MVP 阶段**: 11-16 天
- **完善阶段**: 8-11 天
- **增强阶段**: 7-9 天
- **总计**: **26-36 天** (约 1-1.5 个月)

### 7.3 建议开发顺序
1. 从占卜核心流程开始 (页面 002-006)
2. 完成首页和历史记录 (页面 001, 009)
3. 开发牌库模块 (页面 007-008)
4. 完善个人中心 (页面 010, 014-015)
5. 最后开发学习中心 (页面 011-013)

### 7.4 注意事项
- 每个页面开发完成后立即测试
- 使用 Git 进行版本控制
- 遵循 CLAUDE.md 中的代码规范
- 及时更新 pages.json 配置
- 定期备份数据结构和静态资源

---

**文档版本**: v1.0
**创建日期**: 2025-12-05
**最后更新**: 2025-12-05
